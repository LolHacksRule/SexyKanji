<HTML>
<HEAD>
<TITLE>SexyKanji - MouseDown</TITLE>
<script type="text/javascript" src="../common/js.js" language="JavaScript"></script>
<script type="text/javascript" src="leftmenu.js" language="JavaScript"></script>
<script type="text/javascript">
 var relPathToCommmon = "../common/";
 var relPathToHelpDir = "../common/help/";
 var toSearchPage     = "_search','../search";
 Body1();
</script>
<div class="headerPage">MouseDown</div>
<div class="path"><a href="#" OnMouseOver="link('','../index',this)" class="pathLink">Default mainpage</A><img src="../common/path-arrow.gif" class="path-arrow"><a href="#" OnMouseOver="link('_dir','SexyKanji0',this)" class="pathLink">SexyKanji</A><img src="../common/path-arrow.gif" class="path-arrow"><a href="#" OnMouseOver="link('_class','WidgetManager809',this)" class="pathLink">WidgetManager</A><img src="../common/path-arrow.gif" class="path-arrow"><span class="pathNonLink">MouseDown</span></div>
<script type="text/javascript">
 Body2();
 BodyLeftMenuStart();
WriteLeftMenu("","","","");
 BodyLeftMenuEnd();
 Body3();
</script>
<span class="tabInActive"><a href="#" OnMouseOver="linkTab('_member','MouseDown3149821154','_description',this)" class="tabLinkInActive">Description</a></span>
<span class="tabActive"><a href="#" OnMouseOver="linkTab('_member','MouseDown3149821154','_source',this)" class="tabLinkActive">Source</a></span>
<span class="tabInActive"><a href="#" OnMouseOver="linkTab('_member','MouseDown3149821154','_callgraph',this)" class="tabLinkInActive">Call Graph</a></span>
<script type="text/javascript">
 Body4();
</script>
<div class="contentAirTop"></div>
<div class="paragraph2NoTopPadding">Start Line: 1071</div>
<pre class="codeExamples">
bool <a href="#" onMouseOver="link('_member','MouseDown3149821154',this); ">Sexy::WidgetManager::MouseDown</a>(int x, int y, int theClickCount)
{   
    <a href="#" onMouseOver="link('_member','mLastInputUpdateCnt3955182565',this); ">mLastInputUpdateCnt</a> = <a href="#" onMouseOver="link('_member','mUpdateCnt564406879',this); ">mUpdateCnt</a>;

    if (theClickCount &lt; 0)
        <a href="#" onMouseOver="link('_member','mActualDownButtons3955182565',this); ">mActualDownButtons</a> |= 0x02; // right
    else if (theClickCount == 3)
        <a href="#" onMouseOver="link('_member','mActualDownButtons3955182565',this); ">mActualDownButtons</a> |= 0x04; // middle
    else
        <a href="#" onMouseOver="link('_member','mActualDownButtons3955182565',this); ">mActualDownButtons</a> |= 0x01; // left

    <a href="#" onMouseOver="link('_member','MousePosition3061375031',this); ">MousePosition</a>(x, y);

    if ((<a href="#" onMouseOver="link('_member','mPopupCommandWidget3955182565',this); ">mPopupCommandWidget</a> != NULL) &amp;&amp; (!<a href="#" onMouseOver="link('_member','mPopupCommandWidget3955182565',this); ">mPopupCommandWidget</a>-&gt;Contains(x, y)))
        <a href="#" onMouseOver="link('_member','RemovePopupCommandWidget3149876172',this); ">RemovePopupCommandWidget</a>();

    int aWidgetX;
    int aWidgetY;
    Widget* aWidget = <a href="#" onMouseOver="link('_member','GetWidgetAt1398619166',this); ">GetWidgetAt</a>(x, y, &amp;aWidgetX, &amp;aWidgetY); 

    // Begin mouse down options
/*  
    // Option 1
    //This code sets a new widget as the mouse drag focus widget and lets the old 
    //mousedownwidget think the buttons popped up.
    if ((mLastDownWidget != NULL) &amp;&amp; (mLastDownWidget != aWidget))
    {
        DoMouseUps(mLastDownWidget, mDownButtons);
        mDownButtons = 0;
    }
*/
    // Option 2
    // This code passes all button downs to the mLastDownWidget 
    if (<a href="#" onMouseOver="link('_member','mLastDownWidget3955182565',this); ">mLastDownWidget</a> != NULL)
        aWidget = <a href="#" onMouseOver="link('_member','mLastDownWidget3955182565',this); ">mLastDownWidget</a>;

    // End mouse down options

    if (theClickCount &lt; 0)
    {
        <a href="#" onMouseOver="link('_member','mLastDownButtonId3955182565',this); ">mLastDownButtonId</a> = -1;
        <a href="#" onMouseOver="link('_member','mDownButtons3955182565',this); ">mDownButtons</a> |= 0x02;
    }
    else if (theClickCount == 3)
    {
        <a href="#" onMouseOver="link('_member','mLastDownButtonId3955182565',this); ">mLastDownButtonId</a> = 2;
        <a href="#" onMouseOver="link('_member','mDownButtons3955182565',this); ">mDownButtons</a> |= 0x04;
    }
    else
    {
        <a href="#" onMouseOver="link('_member','mLastDownButtonId3955182565',this); ">mLastDownButtonId</a> = 1;
        <a href="#" onMouseOver="link('_member','mDownButtons3955182565',this); ">mDownButtons</a> |= 0x01;
    }
    
    <a href="#" onMouseOver="link('_member','mLastDownWidget3955182565',this); ">mLastDownWidget</a> = aWidget;
    if (aWidget != NULL)
    {
        if (aWidget-&gt;WantsFocus())
            <a href="#" onMouseOver="link('_member','SetFocus3063501302',this); ">SetFocus</a>(aWidget);
        
        aWidget-&gt;mIsDown = true;
        aWidget-&gt;MouseDown(aWidgetX, aWidgetY, theClickCount);
    }
    
    return true;
}
</pre><div class="contentAirBottom"></div>
<script type="text/javascript">
 Body5();
Statistics("","","","","");
 Body6();
SetPageTab('_member','_source');
</script>
