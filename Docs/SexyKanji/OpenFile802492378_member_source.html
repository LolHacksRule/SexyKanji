<HTML>
<HEAD>
<TITLE>SexyKanji - OpenFile</TITLE>
<script type="text/javascript" src="../common/js.js" language="JavaScript"></script>
<script type="text/javascript" src="leftmenu.js" language="JavaScript"></script>
<script type="text/javascript">
 var relPathToCommmon = "../common/";
 var relPathToHelpDir = "../common/help/";
 var toSearchPage     = "_search','../search";
 Body1();
</script>
<div class="headerPage">OpenFile</div>
<div class="path"><a href="#" OnMouseOver="link('','../index',this)" class="pathLink">Default mainpage</A><img src="../common/path-arrow.gif" class="path-arrow"><a href="#" OnMouseOver="link('_dir','SexyKanji0',this)" class="pathLink">SexyKanji</A><img src="../common/path-arrow.gif" class="path-arrow"><a href="#" OnMouseOver="link('_class','SexyImage809',this)" class="pathLink">SexyImage</A><img src="../common/path-arrow.gif" class="path-arrow"><span class="pathNonLink">OpenFile</span></div>
<script type="text/javascript">
 Body2();
 BodyLeftMenuStart();
WriteLeftMenu("","","","");
 BodyLeftMenuEnd();
 Body3();
</script>
<span class="tabInActive"><a href="#" OnMouseOver="linkTab('_member','OpenFile802492378','_description',this)" class="tabLinkInActive">Description</a></span>
<span class="tabActive"><a href="#" OnMouseOver="linkTab('_member','OpenFile802492378','_source',this)" class="tabLinkActive">Source</a></span>
<span class="tabInActive"><a href="#" OnMouseOver="linkTab('_member','OpenFile802492378','_callgraph',this)" class="tabLinkInActive">Call Graph</a></span>
<script type="text/javascript">
 Body4();
</script>
<div class="contentAirTop"></div>
<div class="paragraph2NoTopPadding">Start Line: 708</div>
<pre class="codeExamples">
virtual bool <a href="#" onMouseOver="link('_member','OpenFile802492378',this); ">Sexy::SexyImage::OpenFile</a>(std::wstring theFileName, bool lookForAlphaFile=true)
{
    // Convert wstring to string for loadResource.
    std::string aFilePath = <a href="#" onMouseOver="link('_member','WStringToString351097544',this); ">WStringToString</a>(theFileName);

    // Load the compressed image data from the file.
    bool success = KResource::loadResource(aFilePath.c_str(), <a href="#" onMouseOver="link('_member','mCompressedDataBuffer1480183968',this); ">mCompressedDataBuffer</a>, <a href="#" onMouseOver="link('_member','mCompressedDataSize1480183968',this); ">mCompressedDataSize</a>);
    

    if(!success)
    {
        std::vector&lt;std::string&gt; anExtQueue;
        anExtQueue.push_back(".j2k");anExtQueue.push_back(".jp2");anExtQueue.push_back(".jpf");
        anExtQueue.push_back(".bmp");anExtQueue.push_back(".tga");anExtQueue.push_back(".png");anExtQueue.push_back(".jpg");

        while(!success &amp;&amp; !anExtQueue.empty())
        {
            aFilePath = <a href="#" onMouseOver="link('_member','WStringToString351097544',this); ">WStringToString</a>(theFileName) + anExtQueue.back();
            anExtQueue.pop_back();

            success = KResource::loadResource(aFilePath.c_str(), <a href="#" onMouseOver="link('_member','mCompressedDataBuffer1480183968',this); ">mCompressedDataBuffer</a>, <a href="#" onMouseOver="link('_member','mCompressedDataSize1480183968',this); ">mCompressedDataSize</a>);
        }
    }

    if (success)
    {
        <a href="#" onMouseOver="link('_member','mFilePath1480183968',this); ">mFilePath</a> = StringToSexyStringFast(aFilePath);

        if (lookForAlphaFile)
            <a href="#" onMouseOver="link('_member','LoadAlphaMask573775936',this); ">LoadAlphaMask</a>(mFilePath);

        // Load the mKGraphicImage with the image data.
        success = <a href="#" onMouseOver="link('_member','CreateKGraphicFromData182507401',this); ">CreateKGraphicFromData</a>(LOAD_STEP_LOAD_ONLY);

        if (success)
        {
            <a href="#" onMouseOver="link('_member','mKGraphicImage1480183968',this); ">mKGraphicImage</a>-&gt;setTextureQuality(true);
            <a href="#" onMouseOver="link('_member','mWidth1480183968',this); ">mWidth</a> = static_cast&lt;int&gt;(<a href="#" onMouseOver="link('_member','mKGraphicImage1480183968',this); ">mKGraphicImage</a>-&gt;getWidth());
            <a href="#" onMouseOver="link('_member','mHeight1480183968',this); ">mHeight</a> = static_cast&lt;int&gt;(<a href="#" onMouseOver="link('_member','mKGraphicImage1480183968',this); ">mKGraphicImage</a>-&gt;getHeight());
        }
    }

    return success;
}
</pre><div class="contentAirBottom"></div>
<script type="text/javascript">
 Body5();
Statistics("","","","","");
 Body6();
SetPageTab('_member','_source');
</script>
